<body>
  <div class="details-content">
    <h2><%= blog.title %></h2>
    <div class="content">
      <p><%= blog.body %></p>
    </div>

    <button onclick="onDelete()">delete</button>
    <!--  -->
    <button onclick="onUpdate()">Likes</button>
    <!--  -->
    <p><%= blog.likes %></p>
    <script>
      function onDelete() {
        //getting the id through window object
        let id = window.location.pathname.split("/")[2];
        console.log(id);
        fetch(`/blogs/${id}`, { method: "DELETE" }).then((response) => {
          // console.log(id);
          //front end redirect
          window.location.href = `${window.location.origin}/blogs`;

          return;
        });
        // console.log(id);
      }
      //
      function onUpdate() {
        //getting the id through window object
        let id = window.location.href.split("/")[4];
        console.log(id);

        // // for path params
        // fetch(`/blogs/${id}`, { method: "PATCH" }).then((response) => {
        //   // console.log(id);
        //   // window.location.reload();
        //   return;
        // });

        // for query params
        fetch(`/blogs/blogLikeQueryParams?id=${id}`, { method: "PATCH" }).then(
          (response) => {
            // console.log(id);
            window.location.reload();
            return;
          }
        );

        // // for body
        // fetch(`/blogs/blogLikeBody`, {
        //   method: "PUT",
        //   body: { id: id },
        // }).then((response) => {
        //   // console.log(id);
        //   // window.location.reload();
        //   return;
        // });
      }
    </script>
  </div>
</body>
